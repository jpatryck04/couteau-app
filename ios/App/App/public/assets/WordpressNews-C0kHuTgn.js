import{P as m,c as g,w as s,u as e,I as S,o as n,a as t,b as W,d as E,e as B,f as L,g as D,h as r,i as H,j as o,E as w,G as h,H as b,O as P,J as k,m as p,S as _,X as C,Y as V,x as u,a8 as j,F as O,r as R,T as A,v as z,ai as F,a1 as v}from"./index-D7xyalIE.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U="/assets/wordpress-logo-C4YkzHLt.png",Y={class:"container"},G={class:"wordpress-logo"},J=["src"],X={key:0,class:"news-list"},$={class:"news-excerpt"},q={class:"news-actions"},K={key:1,class:"error"},Q={key:2,class:"placeholder"},Z={class:"api-info"},ee="https://techcrunch.com/wp-json/wp/v2/posts?per_page=3&_embed",se={__name:"WordpressNews",setup(te){const i=m([]),d=m(!1),c=m(""),I=l=>l?l.replace(/<[^>]*>/g,"").trim():"No disponible",N=(l,a)=>l.length>a?l.substring(0,a)+"...":l,T=l=>new Date(l).toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=async()=>{d.value=!0,c.value="",i.value=[];try{const l=await fetch(ee);if(!l.ok)throw new Error("Error HTTP: ".concat(l.status));i.value=await l.json()}catch(l){console.error("Error al cargar noticias:",l),c.value="Error al cargar las noticias desde WordPress."}finally{d.value=!1}};return(l,a)=>(n(),g(e(S),null,{default:s(()=>[t(e(W),null,{default:s(()=>[t(e(E),null,{default:s(()=>[t(e(B),{slot:"start"},{default:s(()=>[t(e(L))]),_:1}),t(e(D),null,{default:s(()=>[...a[0]||(a[0]=[r("Noticias WordPress",-1)])]),_:1})]),_:1})]),_:1}),t(e(H),null,{default:s(()=>[o("div",Y,[t(e(w),null,{default:s(()=>[t(e(h),null,{default:s(()=>[t(e(b),null,{default:s(()=>[...a[1]||(a[1]=[r("Últimas Noticias WordPress",-1)])]),_:1}),t(e(P),null,{default:s(()=>[...a[2]||(a[2]=[r("Noticias obtenidas desde la REST API",-1)])]),_:1})]),_:1}),t(e(k),null,{default:s(()=>[o("div",G,[o("img",{src:e(U),alt:"WordPress Logo",class:"logo-image"},null,8,J),a[3]||(a[3]=o("h3",null,"TechCrunch - Sitio WordPress",-1))]),t(e(C),{expand:"block",onClick:y,disabled:d.value},{default:s(()=>[d.value?(n(),g(e(V),{key:0,slot:"start"})):_("",!0),a[4]||(a[4]=r(" Cargar Últimas Noticias ",-1))]),_:1},8,["disabled"]),i.value.length>0?(n(),p("div",X,[o("h3",null,"Últimas "+u(i.value.length)+" Publicaciones",1),t(e(j),null,{default:s(()=>[(n(!0),p(O,null,R(i.value,(f,x)=>(n(),g(e(A),{key:f.id,class:"news-item"},{default:s(()=>[t(e(w),{class:"news-card"},{default:s(()=>[t(e(h),null,{default:s(()=>[t(e(b),{class:"news-title"},{default:s(()=>[r(u(x+1)+". "+u(I(f.title.rendered)),1)]),_:2},1024),t(e(P),null,{default:s(()=>[r(u(T(f.date)),1)]),_:2},1024)]),_:2},1024),t(e(k),null,{default:s(()=>[o("div",$,u(N(I(f.excerpt.rendered),150)),1),o("div",q,[t(e(C),{href:f.link,target:"_blank",fill:"outline",size:"small",class:"visit-button"},{default:s(()=>[t(e(z),{icon:e(F),slot:"start"},null,8,["icon"]),a[5]||(a[5]=r(" Visitar Noticia ",-1))]),_:1},8,["href"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):_("",!0),c.value?(n(),p("div",K,[t(e(v),{color:"danger"},{default:s(()=>[o("p",null,u(c.value),1),a[6]||(a[6]=o("p",null,"Verifica tu conexión o intenta nuevamente.",-1))]),_:1})])):_("",!0),i.value.length===0&&!d.value&&!c.value?(n(),p("div",Q,[t(e(v),{color:"medium"},{default:s(()=>[...a[7]||(a[7]=[o("p",null,"Presiona el botón para cargar las últimas noticias de WordPress.",-1)])]),_:1})])):_("",!0),o("div",Z,[t(e(v),{color:"medium"},{default:s(()=>[...a[8]||(a[8]=[o("p",null,[o("small",null,"Usando la API: https://techcrunch.com/wp-json/wp/v2/posts?per_page=3&_embed")],-1)])]),_:1})])]),_:1})]),_:1})])]),_:1})]),_:1}))}},oe=M(se,[["__scopeId","data-v-f97e7662"]]);export{oe as default};
